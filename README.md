# MAW-MCP: Multi-Agent Workflow MCP Server

Coordinate parallel AI agent development workflows from any Claude interface.

## What It Does

- **Phase 3 (Review)**: Analyze codebase, identify improvements, generate agent prompts
- **Phase 4 (Launch)**: Get copy-paste prompts with branch names and sequencing
- **Phase 5 (Integrate)**: Merge order guidance and conflict detection
- **Phase 6 (Decide)**: Deploy, iterate, or add features recommendation

## Installation

```bash
# Clone
git clone https://github.com/your-username/maw-mcp
cd maw-mcp

# Install
pip install -e .

# Or with uv
uv pip install -e .
```

## Configuration

### Claude Desktop

Add to `~/Library/Application Support/Claude/claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "maw": {
      "command": "python",
      "args": ["-m", "src.server"],
      "cwd": "/Users/dp/Projects/maw-mcp"
    }
  }
}
```

### Cursor

Add to `.cursor/mcp.json` in your project:

```json
{
  "mcpServers": {
    "maw": {
      "command": "python",
      "args": ["-m", "src.server"],
      "cwd": "/Users/dp/Projects/maw-mcp"
    }
  }
}
```

## Tools

| Tool | Description |
|------|-------------|
| `maw_status` | Show current workflow state and next action |
| `maw_review` | Phase 3: Analyze codebase, generate agent prompts |
| `maw_launch` | Phase 4: Get agent prompts with sequencing |
| `maw_checkin` | Phase 4: Evaluate progress, get updated guidance |
| `maw_integrate` | Phase 5: Merge order and conflict detection |
| `maw_decide` | Phase 6: Deploy/iterate/add recommendation |
| `maw_learn` | Capture learnings to PROJECT_LEARNINGS.md |
| `maw_patterns` | Search accumulated patterns |

## Usage

### Starting a Workflow

```
> maw_status
ðŸ“Š my-project
Phase: 0 | Iteration: 0
Status: not_started

â†’ Run maw_review to analyze codebase and generate agent prompts
```

### Review Phase

```
> maw_review focus="security" wave_name="Security Hardening"

[Claude analyzes codebase and creates AGENT_PROMPTS/]

Review AGENT_PROMPTS/ before running maw_launch
```

### Launch Agents

```
> maw_launch

## ðŸš€ Agent Launch Sequence

### Launch Order
1. Agent 1 - Run first (~20 min)
2. Agents 2, 3, 4 - Run in parallel

### Agent Prompts

#### Agent 1: Backend Security
**Branch:** `agent/1-backend-security`

```
You are Agent 1: Backend Security
Branch: agent/1-backend-security
Read and implement: AGENT_PROMPTS/1_Backend_Security.md
Create PR when done.
START NOW
```
```

### Check Progress

```
> maw_checkin reports="Agent 1: âœ… Done: Auth implementation..."

## Progress Analysis
[Re-evaluation and updated prompts if needed]
```

### Integrate

```
> maw_integrate

## Phase 5: Integration

### Recommended Merge Order
1. Documentation/Tests
2. Backend/Infrastructure
3. Frontend/UI
```

### Decide Next Steps

```
> maw_decide

## Phase 6: Decision Time

| Condition | Recommendation |
|-----------|----------------|
| All tests pass | âœ… Deploy |
| Quality < 7/10 | ðŸ”„ Iterate |
```

## What Gets Created in Projects

```
your-project/
â”œâ”€â”€ WORKFLOW_STATE.json     # Tracks phase, iteration, agents
â”œâ”€â”€ AGENT_PROMPTS/          # Generated by maw_review
â”‚   â”œâ”€â”€ 1_Backend_Engineer.md
â”‚   â”œâ”€â”€ 2_Security.md
â”‚   â”œâ”€â”€ COORDINATION.md
â”‚   â””â”€â”€ README.md
â””â”€â”€ PROJECT_LEARNINGS.md    # Session notes
```

## Philosophy

- **Soft enforcement**: Warnings, not hard blocks
- **You're the operator**: Tools inform, you decide
- **Deliberate pacing**: Review before launch, check before integrate
- **Minimal project footprint**: Phase guides stay in server, not copied everywhere

## Content

Phase guides and templates live in `content/`:

```
content/
â”œâ”€â”€ phases/
â”‚   â”œâ”€â”€ phase1-planning.md
â”‚   â”œâ”€â”€ phase3-codex-review.md
â”‚   â”œâ”€â”€ phase4-agent-launcher.md
â”‚   â”œâ”€â”€ phase5-integration.md
â”‚   â””â”€â”€ phase6-iteration.md
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ AGENT_PROMPT.md
â”‚   â””â”€â”€ PR_TEMPLATE.md
â””â”€â”€ UNIVERSAL_PATTERNS.md
```

These are accessible via MCP resources or `maw_patterns`.

## License

MIT
